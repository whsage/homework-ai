# 文字题目输入使用指南

## 📋 功能概述

现在您可以通过**三种方式**向 AI 导师提问：

1. **📷 上传图片** - 拍照或截图上传题目
2. **📝 直接输入文字** - 手动输入题目内容
3. **🖼️ 图片 + 文字** - 上传图片并附加说明

---

## 🎯 直接输入文字题目

### ✅ 新功能特性

#### 1. **多行文本输入**
- 输入框现在支持**多行文本**
- 可以输入长题目、多个问题
- 自动调整高度（最多 8 行）

#### 2. **智能快捷键**
- **Enter** - 换行
- **Ctrl+Enter** (或 Mac 的 Cmd+Enter) - 发送消息
- **Ctrl+V** - 粘贴图片

#### 3. **优化的占位符提示**
```
输入题目或问题...（支持多行，Ctrl+V 粘贴图片，Ctrl+Enter 发送）
```

---

## 📝 使用场景

### 场景1：输入单行题目

**示例：**
```
下列哪种保存方法不正确？
```

**操作：**
1. 在聊天输入框中输入题目
2. 点击发送按钮 或 按 Ctrl+Enter

---

### 场景2：输入多行题目

**示例：**
```
1. 下列关于化学试剂保存的说法，正确的是（）
A. 未使用完的钠、钾、白磷，应放回原试剂瓶中
B. 液溴应密封在玻璃瓶中，加水密封
C. 活泼金属应保存在煤油中
D. KMnO₄ 溶液应保存在试剂瓶中
```

**操作：**
1. 在输入框中输入题目（按 Enter 换行）
2. 输入框会自动扩展高度
3. 输入完成后按 Ctrl+Enter 发送

---

### 场景3：输入数学题目

**示例：**
```
一辆出租车从13:00到15:00行驶了120公里，求平均速度。
```

**操作：**
1. 直接输入题目
2. AI 会自动识别为数学题
3. 提供公式和引导

---

### 场景4：输入语文题目

**示例：**
```
"徘徊"和"走动"有什么区别？请从意象和情感角度分析。
```

**操作：**
1. 直接输入问题
2. AI 会自动识别为语文题
3. 聚焦语境和情感分析

---

### 场景5：复制粘贴题目

**操作：**
1. 从其他地方复制题目文字
2. 在输入框中按 Ctrl+V 粘贴
3. 如果粘贴的是图片，会自动识别为图片上传
4. 如果粘贴的是文字，会直接显示在输入框中

---

## 🎨 UI 改进

### 优化前
- ❌ 单行输入框
- ❌ 无法输入长题目
- ❌ 按 Enter 直接发送（无法换行）

### 优化后
- ✅ 多行文本框
- ✅ 支持长题目输入
- ✅ Enter 换行，Ctrl+Enter 发送
- ✅ 自动调整高度（1-8行）
- ✅ 更清晰的占位符提示

---

## 💡 使用技巧

### 1. **快速输入**
- 短题目：直接输入 + 点击发送
- 长题目：输入 + Ctrl+Enter 发送

### 2. **格式化输入**
- 选择题：每个选项换行
- 计算题：分步骤换行
- 多问题：每个问题换行

### 3. **组合使用**
- 先上传图片（点击📎或粘贴）
- 再输入补充说明
- 一起发送给 AI

---

## 🔄 工作流程

### 纯文字题目流程

```
1. 用户在输入框中输入题目
   ↓
2. AI 自动识别题目类型（数学/语文/英语/理科）
   ↓
3. AI 根据题目类型选择引导策略
   ↓
4. AI 给出引导性回复（不直接给答案）
   ↓
5. 用户继续对话，AI 持续引导
```

### 图片 + 文字流程

```
1. 用户上传图片 + 输入补充说明
   ↓
2. AI 识别图片内容
   ↓
3. AI 结合文字说明理解题目
   ↓
4. AI 给出更精准的引导
```

---

## 📊 对比示例

### 示例1：数学题

**输入：**
```
一辆出租车从13:00到15:00行驶了120公里，求平均速度
```

**AI 回复：**
```
很好的问题！我注意到你已经找到了时间和距离这两个关键信息。

让我们一起拆解这道题：

**已知条件：**
- 起始时间：13:00
- 结束时间：15:00
- 行驶距离：120公里

**隐藏线索：**
- 需要先计算时间间隔

**核心公式：**
$v=\frac{s}{t}$（速度=距离÷时间）

💡 **白话解释：** 速度就是单位时间内走过的距离

💡 思考一下：从13:00到15:00一共经过了多少小时？
```

---

### 示例2：语文题

**输入：**
```
"徘徊"和"走动"有什么区别？
```

**AI 回复：**
```
很好的观察！你注意到了这两个词的细微差别。

让我们从意象和情感角度分析：

**'走动'：**
- 中性词，单纯描述移动
- 没有特定情感色彩

**'徘徊'：**
- 带有'来回'、'犹豫'的意味
- 暗示内心的不确定、矛盾、思索

💡 **语境示例：**
- "他在房间里走动" → 只是在移动
- "他在房间里徘徊" → 内心有事，犹豫不决

💡 思考一下：如果一篇文章写'主人公在十字路口徘徊'，你觉得作者想传达什么情感？
```

---

### 示例3：化学题

**输入：**
```
下列哪种保存方法不正确？
A. 未使用完的钠、钾、白磷，应放回原试剂瓶中
B. 液溴应密封在玻璃瓶中，加水密封
C. 活泼金属应保存在煤油中
D. KMnO₄ 溶液应保存在试剂瓶中
```

**AI 回复：**
```
很好的问题！我注意到你已经找到了这道关于化学试剂保存的题目。

这道题的关键是理解每个选项的实验目的和安全性。

让我们一起分析：
- 钠、钾、白磷这些物质有什么共同特点？
- 它们使用后还能放回原试剂瓶吗？

💡 思考一下：如果某种试剂在使用过程中可能被污染或发生反应，你觉得还能放回原瓶吗？
```

---

## 🎯 优势对比

### 图片上传 vs 文字输入

| 特性 | 图片上传 | 文字输入 |
|------|---------|---------|
| **速度** | 快（拍照即可） | 中等（需要打字） |
| **准确性** | 高（原题原样） | 取决于输入 |
| **编辑性** | 低（无法修改图片） | 高（可随时修改） |
| **适用场景** | 纸质题目、复杂图表 | 简单题目、纯文字题 |
| **网络要求** | 较高（上传图片） | 较低（纯文字） |

### 推荐使用场景

**优先使用图片上传：**
- ✅ 纸质试卷、练习册
- ✅ 包含图表、公式的题目
- ✅ 需要保留原题格式

**优先使用文字输入：**
- ✅ 简单的选择题、填空题
- ✅ 纯文字的概念题
- ✅ 需要快速提问
- ✅ 网络不稳定时

---

## 🚀 进一步优化建议

### 1. **语音输入**（未来功能）
- 支持语音转文字
- 适合口述题目

### 2. **OCR 文字识别**（未来功能）
- 上传图片后自动提取文字
- 允许用户编辑识别结果

### 3. **题目模板**（未来功能）
- 提供常见题型模板
- 快速填写题目信息

---

## 📄 相关文档

- `AI_TUTOR_UPGRADE.md` - 全科辅导老师升级文档
- `SMART_PROMPT_OPTIMIZATION.md` - 智能提示词优化文档
- `FLEXIBLE_GUIDANCE.md` - 避免模板化回复优化文档

---

**更新时间**：2026-01-13  
**版本**：v2.4 - 文字题目输入优化  
**状态**：已实施
