# Android Studio ç”Ÿæˆ APK æ–‡ä»¶æŒ‡å—

## ğŸ“± å¿«é€Ÿç”Ÿæˆ APKï¼ˆæ¨èæ–¹æ³•ï¼‰

### æ–¹æ³•ä¸€ï¼šç”Ÿæˆ Debug APKï¼ˆæœ€å¿«ï¼‰

#### æ­¥éª¤ï¼š

1. **æ‰“å¼€é¡¹ç›®**
   - å¯åŠ¨ Android Studio
   - é€‰æ‹© `File` â†’ `Open`
   - å¯¼èˆªåˆ° `d:\wenh\AI\homework\android-app`
   - ç‚¹å‡» `OK`

2. **ç­‰å¾… Gradle åŒæ­¥**
   - Android Studio ä¼šè‡ªåŠ¨åŒæ­¥é¡¹ç›®
   - ç­‰å¾…åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤º "Gradle sync finished"
   - å¦‚æœæç¤ºæ›´æ–° Gradle æˆ–æ’ä»¶ï¼Œå¯ä»¥é€‰æ‹© "Don't remind me again"

3. **ç”Ÿæˆ Debug APK**
   - ç‚¹å‡»èœå•æ  `Build` â†’ `Build Bundle(s) / APK(s)` â†’ `Build APK(s)`
   - æˆ–è€…ä½¿ç”¨å¿«æ·é”®ï¼š`Ctrl + Shift + A`ï¼Œè¾“å…¥ "Build APK"ï¼Œå›è½¦

4. **ç­‰å¾…ç¼–è¯‘å®Œæˆ**
   - å³ä¸‹è§’ä¼šæ˜¾ç¤ºç¼–è¯‘è¿›åº¦
   - ç¼–è¯‘æˆåŠŸåä¼šå¼¹å‡ºé€šçŸ¥ï¼š"APK(s) generated successfully"

5. **æ‰¾åˆ° APK æ–‡ä»¶**
   - ç‚¹å‡»é€šçŸ¥ä¸­çš„ `locate` é“¾æ¥
   - æˆ–è€…æ‰‹åŠ¨æ‰“å¼€ï¼š`d:\wenh\AI\homework\android-app\app\build\outputs\apk\debug\`
   - APK æ–‡ä»¶åï¼š`app-debug.apk`

---

### æ–¹æ³•äºŒï¼šç”Ÿæˆ Release APKï¼ˆæ­£å¼ç‰ˆï¼‰

#### æ­¥éª¤ï¼š

1. **æ‰“å¼€é¡¹ç›®**ï¼ˆåŒä¸Šï¼‰

2. **ç”Ÿæˆç­¾åå¯†é’¥**ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
   - ç‚¹å‡» `Build` â†’ `Generate Signed Bundle / APK`
   - é€‰æ‹© `APK`ï¼Œç‚¹å‡» `Next`
   - ç‚¹å‡» `Create new...`
   - å¡«å†™å¯†é’¥ä¿¡æ¯ï¼š
     ```
     Key store path: D:\wenh\AI\homework\android-app\keystore.jks
     Password: ä½ çš„å¯†ç ï¼ˆè®°ä½å®ƒï¼ï¼‰
     Alias: homework-key
     Password: ä½ çš„å¯†ç ï¼ˆåŒä¸Šï¼‰
     Validity (years): 25
     
     Certificate:
     First and Last Name: Your Name
     Organization: AI7Miao
     City: Your City
     State: Your State
     Country Code: CN
     ```
   - ç‚¹å‡» `OK`

3. **ç­¾åå¹¶ç”Ÿæˆ APK**
   - é€‰æ‹©åˆšåˆ›å»ºçš„å¯†é’¥åº“
   - è¾“å…¥å¯†ç 
   - é€‰æ‹© `release` æ„å»ºå˜ä½“
   - å‹¾é€‰ `V1 (Jar Signature)` å’Œ `V2 (Full APK Signature)`
   - ç‚¹å‡» `Finish`

4. **æ‰¾åˆ° Release APK**
   - ä½ç½®ï¼š`d:\wenh\AI\homework\android-app\app\build\outputs\apk\release\`
   - æ–‡ä»¶åï¼š`app-release.apk`

---

## ğŸš€ å®‰è£…åˆ°æ‰‹æœº

### æ–¹æ³• Aï¼šé€šè¿‡ USB è¿æ¥

1. **å¯ç”¨å¼€å‘è€…é€‰é¡¹**
   - æ‰‹æœºè®¾ç½® â†’ å…³äºæ‰‹æœº
   - è¿ç»­ç‚¹å‡»"ç‰ˆæœ¬å·" 7æ¬¡
   - è¿”å›è®¾ç½® â†’ ç³»ç»Ÿ â†’ å¼€å‘è€…é€‰é¡¹
   - å¼€å¯ "USB è°ƒè¯•"

2. **è¿æ¥æ‰‹æœº**
   - ç”¨ USB çº¿è¿æ¥æ‰‹æœºå’Œç”µè„‘
   - æ‰‹æœºä¸Šå…è®¸ USB è°ƒè¯•

3. **ç›´æ¥å®‰è£…**
   - åœ¨ Android Studio ä¸­ç‚¹å‡»ç»¿è‰²çš„ â–¶ï¸ è¿è¡ŒæŒ‰é’®
   - æˆ–è€…ç‚¹å‡» `Run` â†’ `Run 'app'`
   - é€‰æ‹©ä½ çš„è®¾å¤‡
   - åº”ç”¨ä¼šè‡ªåŠ¨å®‰è£…å¹¶å¯åŠ¨

### æ–¹æ³• Bï¼šé€šè¿‡æ–‡ä»¶ä¼ è¾“

1. **å¤åˆ¶ APK åˆ°æ‰‹æœº**
   - å°† `app-debug.apk` æˆ– `app-release.apk` å¤åˆ¶åˆ°æ‰‹æœº
   - å¯ä»¥é€šè¿‡ USBã€å¾®ä¿¡ã€QQ ç­‰æ–¹å¼ä¼ è¾“

2. **å®‰è£… APK**
   - åœ¨æ‰‹æœºä¸Šæ‰¾åˆ° APK æ–‡ä»¶
   - ç‚¹å‡»å®‰è£…
   - å¦‚æœæç¤º"æœªçŸ¥æ¥æº"ï¼Œå…è®¸å®‰è£…

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1ï¼šGradle åŒæ­¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. File â†’ Invalidate Caches / Restart â†’ Invalidate and Restart
3. ç­‰å¾…é‡æ–°åŒæ­¥
```

### é—®é¢˜ 2ï¼šç¼–è¯‘é”™è¯¯ "SDK not found"

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. File â†’ Project Structure
2. SDK Location â†’ ç¡®è®¤ Android SDK è·¯å¾„æ­£ç¡®
3. å¦‚æœæ²¡æœ‰ SDKï¼Œç‚¹å‡» "Download Android SDK"
```

### é—®é¢˜ 3ï¼šç¼–è¯‘é”™è¯¯ "Kotlin version mismatch"

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. File â†’ Settings â†’ Plugins
2. æœç´¢ "Kotlin"
3. æ›´æ–° Kotlin æ’ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬
4. é‡å¯ Android Studio
```

### é—®é¢˜ 4ï¼šAPK å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```
1. å¸è½½æ—§ç‰ˆæœ¬åº”ç”¨
2. é‡æ–°å®‰è£…æ–°çš„ APK
3. å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œæ£€æŸ¥æ‰‹æœºå­˜å‚¨ç©ºé—´
```

---

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥æ¸…å•

åœ¨ç”Ÿæˆæ–°çš„ APK ä¹‹å‰ï¼Œç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š

- [ ] âœ… MainActivity.kt å·²æ›´æ–°ï¼ˆé•¿æŒ‰æ¸…é™¤ç¼“å­˜åŠŸèƒ½ï¼‰
- [ ] âœ… ä»£ç å·²ä¿å­˜
- [ ] âœ… Gradle åŒæ­¥æˆåŠŸ
- [ ] âœ… æ²¡æœ‰ç¼–è¯‘é”™è¯¯
- [ ] âœ… ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ˆå¯é€‰ï¼‰

### æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¯é€‰ä½†æ¨èï¼‰

ç¼–è¾‘ `app/build.gradle.kts`ï¼š

```kotlin
android {
    defaultConfig {
        versionCode = 2        // ä» 1 æ”¹ä¸º 2
        versionName = "1.1.0"  // ä» "1.0" æ”¹ä¸º "1.1.0"
    }
}
```

---

## ğŸ¯ æœ¬æ¬¡æ›´æ–°å†…å®¹

### æ–°å¢åŠŸèƒ½ï¼š
âœ… **é•¿æŒ‰æ¸…é™¤ç¼“å­˜**
- é•¿æŒ‰å±å¹•ä»»æ„ä½ç½®è§¦å‘æ¸…é™¤ç¼“å­˜å¯¹è¯æ¡†
- è§£å†³ WebView ç¼“å­˜å¯¼è‡´çš„æ˜¾ç¤ºé—®é¢˜
- ä¸ä¼šåˆ é™¤ç”¨æˆ·ç™»å½•ä¿¡æ¯å’Œæ•°æ®

### ä¿®å¤é—®é¢˜ï¼š
âœ… **æ´»è·ƒå¤©æ•°æ˜¾ç¤ºå¼‚å¸¸**
- ä¿®å¤ Android ç«¯æ˜¾ç¤º `common.days` çš„é—®é¢˜
- ç°åœ¨æ­£ç¡®æ˜¾ç¤º `7d` æ ¼å¼

---

## ğŸ“¦ ç”Ÿæˆçš„æ–‡ä»¶ä½ç½®

### Debug APKï¼ˆæµ‹è¯•ç‰ˆï¼‰
```
è·¯å¾„ï¼šd:\wenh\AI\homework\android-app\app\build\outputs\apk\debug\app-debug.apk
å¤§å°ï¼šçº¦ 5-10 MB
ç”¨é€”ï¼šå¼€å‘æµ‹è¯•ï¼Œå¯ä»¥ç›´æ¥å®‰è£…
```

### Release APKï¼ˆæ­£å¼ç‰ˆï¼‰
```
è·¯å¾„ï¼šd:\wenh\AI\homework\android-app\app\build\outputs\apk\release\app-release.apk
å¤§å°ï¼šçº¦ 3-5 MBï¼ˆç»è¿‡ä¼˜åŒ–ï¼‰
ç”¨é€”ï¼šå‘å¸ƒç»™ç”¨æˆ·ï¼Œéœ€è¦ç­¾å
```

---

## ğŸš€ å¿«é€Ÿæ“ä½œæ€»ç»“

### æœ€å¿«æ–¹å¼ï¼ˆDebug APKï¼‰ï¼š
```
1. æ‰“å¼€ Android Studio
2. æ‰“å¼€é¡¹ç›®ï¼šd:\wenh\AI\homework\android-app
3. Build â†’ Build Bundle(s) / APK(s) â†’ Build APK(s)
4. ç­‰å¾…ç¼–è¯‘å®Œæˆ
5. ç‚¹å‡» "locate" æ‰¾åˆ° APK
6. ä¼ è¾“åˆ°æ‰‹æœºå®‰è£…
```

### æ­£å¼å‘å¸ƒï¼ˆRelease APKï¼‰ï¼š
```
1. æ‰“å¼€ Android Studio
2. æ‰“å¼€é¡¹ç›®
3. Build â†’ Generate Signed Bundle / APK
4. é€‰æ‹© APK â†’ Next
5. åˆ›å»º/é€‰æ‹©å¯†é’¥åº“
6. é€‰æ‹© release â†’ Finish
7. æ‰¾åˆ° app-release.apk
8. å‘å¸ƒç»™ç”¨æˆ·
```

---

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡ä½¿ç”¨å»ºè®®ç”Ÿæˆ Debug APK**ï¼Œå¿«é€Ÿæµ‹è¯•åŠŸèƒ½
2. **æ­£å¼å‘å¸ƒæ—¶ä½¿ç”¨ Release APK**ï¼Œä½“ç§¯æ›´å°ï¼Œæ€§èƒ½æ›´å¥½
3. **ä¿å­˜å¥½å¯†é’¥åº“æ–‡ä»¶**ï¼ˆkeystore.jksï¼‰ï¼Œä¸¢å¤±åæ— æ³•æ›´æ–°åº”ç”¨
4. **è®°ä½å¯†é’¥åº“å¯†ç **ï¼Œå¿˜è®°åæ— æ³•ä½¿ç”¨è¯¥å¯†é’¥åº“

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ Android Studio åº•éƒ¨çš„ "Build" æ ‡ç­¾é¡µï¼ŒæŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥ `DEVELOPMENT_GUIDE.md` æ–‡æ¡£
3. ç¡®ä¿å·²å®‰è£… Android SDK å’Œå¿…è¦çš„å·¥å…·

---

**æ–‡æ¡£åˆ›å»ºæ—¶é—´ï¼š** 2026-01-24  
**é€‚ç”¨ç‰ˆæœ¬ï¼š** Android Studio Hedgehog | 2023.1.1 åŠä»¥ä¸Š  
**é¡¹ç›®è·¯å¾„ï¼š** `d:\wenh\AI\homework\android-app`
