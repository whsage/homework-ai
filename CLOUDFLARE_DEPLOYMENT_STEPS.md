# ğŸŒ Cloudflare Pages éƒ¨ç½²æ­¥éª¤

åœ¨å®Œæˆ Git æ¨é€åï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤éƒ¨ç½²åˆ° Cloudflare Pagesã€‚

---

## ğŸ“‹ å‰ç½®æ¡ä»¶

âœ… ä»£ç å·²æˆåŠŸæ¨é€åˆ° GitHub
âœ… GitHub ä»“åº“åœ°å€ï¼šhttps://github.com/whsage/homework-ai

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1ï¼šæ³¨å†Œ Cloudflare è´¦å·

1. è®¿é—®ï¼šhttps://dash.cloudflare.com/sign-up
2. å¡«å†™ä¿¡æ¯ï¼š
   - **Email**: whsage@qq.comï¼ˆæˆ–å…¶ä»–é‚®ç®±ï¼‰
   - **Password**: è®¾ç½®ä¸€ä¸ªå¯†ç 
3. ç‚¹å‡» "Create Account"
4. æŸ¥æ”¶é‚®ä»¶å¹¶éªŒè¯é‚®ç®±

---

### æ­¥éª¤ 2ï¼šè¿›å…¥ Cloudflare Pages

1. ç™»å½• Cloudflare Dashboard
2. ç‚¹å‡»å·¦ä¾§èœå• **"Workers & Pages"**
3. ç‚¹å‡» **"Create application"** æŒ‰é’®
4. é€‰æ‹© **"Pages"** æ ‡ç­¾
5. ç‚¹å‡» **"Connect to Git"** æŒ‰é’®

---

### æ­¥éª¤ 3ï¼šè¿æ¥ GitHub

1. ç‚¹å‡» **"Connect GitHub"** æŒ‰é’®
2. åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼š
   - ç™»å½• GitHubï¼ˆå¦‚æœè¿˜æ²¡ç™»å½•ï¼‰
   - ç”¨æˆ·åï¼šwhsage@qq.com
   - å¯†ç ï¼šWh@821022
3. é€‰æ‹© **"Only select repositories"**
4. ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© **"homework-ai"**
5. ç‚¹å‡» **"Install & Authorize"** æŒ‰é’®
6. è¿”å› Cloudflare Pages

---

### æ­¥éª¤ 4ï¼šé…ç½®é¡¹ç›®è®¾ç½®

åœ¨ "Set up builds and deployments" é¡µé¢å¡«å†™ï¼š

#### åŸºæœ¬è®¾ç½®
- **Project name**: `homework-ai`ï¼ˆæˆ–ä½ å–œæ¬¢çš„åå­—ï¼‰
- **Production branch**: `main`

#### æ„å»ºè®¾ç½®
- **Framework preset**: é€‰æ‹© **"Vite"**
- **Build command**: `npm run build`ï¼ˆè‡ªåŠ¨å¡«å……ï¼‰
- **Build output directory**: `dist`ï¼ˆè‡ªåŠ¨å¡«å……ï¼‰

---

### æ­¥éª¤ 5ï¼šé…ç½®ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼ï¼‰

ç‚¹å‡» **"Environment variables (advanced)"** å±•å¼€ï¼Œç„¶åæ·»åŠ ä»¥ä¸‹ 3 ä¸ªå˜é‡ï¼š

#### å˜é‡ 1ï¼šDeepSeek API Key
- **Variable name**: `VITE_DEEPSEEK_API_KEY`
- **Value**: `sk-0b67ccdea6694d91b17cdae54087f5cb`
- ç‚¹å‡» **"Add variable"**

#### å˜é‡ 2ï¼šSupabase URL
- **Variable name**: `VITE_SUPABASE_URL`
- **Value**: `https://vfeodsgjtcnwqmrjhkxu.supabase.co`
- ç‚¹å‡» **"Add variable"**

#### å˜é‡ 3ï¼šSupabase Anon Key
- **Variable name**: `VITE_SUPABASE_ANON_KEY`
- **Value**: `sb_publishable_YwwhU7RWpO2TpHkzW_JMdA_4FMtWHln`
- ç‚¹å‡» **"Add variable"**

âš ï¸ **æ³¨æ„**ï¼šç¡®ä¿æ¯ä¸ªå˜é‡åéƒ½ä»¥ `VITE_` å¼€å¤´ï¼

---

### æ­¥éª¤ 6ï¼šå¼€å§‹éƒ¨ç½²

1. æ£€æŸ¥æ‰€æœ‰è®¾ç½®æ˜¯å¦æ­£ç¡®
2. ç‚¹å‡» **"Save and Deploy"** æŒ‰é’®
3. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦ 1-2 åˆ†é’Ÿï¼‰

#### æ„å»ºè¿‡ç¨‹ä¸­ä½ ä¼šçœ‹åˆ°ï¼š
- â³ Installing dependencies...
- â³ Building application...
- â³ Deploying to Cloudflare's global network...
- âœ… Success!

---

### æ­¥éª¤ 7ï¼šè·å–éƒ¨ç½² URL

éƒ¨ç½²æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
âœ… Success! Your site is live at:
https://homework-ai-xxx.pages.dev
```

**å¤åˆ¶è¿™ä¸ª URL**ï¼Œè¿™å°±æ˜¯ä½ çš„åº”ç”¨åœ°å€ï¼

---

## âš™ï¸ é…ç½® Supabase

éƒ¨ç½²æˆåŠŸåï¼Œéœ€è¦åœ¨ Supabase ä¸­æ·»åŠ ä½ çš„åŸŸåï¼š

### 7.1 æ·»åŠ  Site URL

1. è®¿é—®ï¼šhttps://supabase.com/dashboard
2. ç™»å½•ä½ çš„ Supabase è´¦å·
3. é€‰æ‹©ä½ çš„é¡¹ç›®
4. è¿›å…¥ **Settings** â†’ **API**
5. æ‰¾åˆ° **Site URL**ï¼Œç‚¹å‡»ç¼–è¾‘
6. è¾“å…¥ä½ çš„ Cloudflare Pages URLï¼š
   ```
   https://homework-ai-xxx.pages.dev
   ```
7. ç‚¹å‡» **"Save"**

### 7.2 é…ç½®è®¤è¯é‡å®šå‘

1. åœ¨ Supabase Dashboardï¼Œè¿›å…¥ **Authentication** â†’ **URL Configuration**
2. åœ¨ **Redirect URLs** ä¸­ç‚¹å‡» **"Add URL"**
3. è¾“å…¥ï¼š
   ```
   https://homework-ai-xxx.pages.dev/**
   ```
4. ç‚¹å‡» **"Save"**

---

## ğŸ§ª æµ‹è¯•åº”ç”¨

### 8.1 è®¿é—®åº”ç”¨

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä½ çš„ Cloudflare Pages URLï¼š
```
https://homework-ai-xxx.pages.dev
```

### 8.2 åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] é¡µé¢èƒ½æ­£å¸¸åŠ è½½
- [ ] ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®
- [ ] å¡«å†™é‚®ç®±å’Œå¯†ç 
- [ ] æˆåŠŸæ³¨å†Œå¹¶ç™»å½•
- [ ] åˆ›å»ºæ–°çš„ä½œä¸šä¼šè¯
- [ ] ä¸Šä¼ å›¾ç‰‡æµ‹è¯•
- [ ] AI å¯¹è¯åŠŸèƒ½æµ‹è¯•
- [ ] æŸ¥çœ‹å­¦ä¹ ç»Ÿè®¡é¡µé¢
- [ ] ä¸ªäººè®¾ç½®é¡µé¢
- [ ] å¯¼å‡ºåŠŸèƒ½æµ‹è¯•

### 8.3 æ‰‹æœºæµ‹è¯•

ç”¨æ‰‹æœºæµè§ˆå™¨è®¿é—®ç›¸åŒçš„ URLï¼Œæµ‹è¯•ï¼š
- [ ] å“åº”å¼å¸ƒå±€æ­£å¸¸
- [ ] è§¦æ‘¸äº¤äº’æµç•…
- [ ] å›¾ç‰‡ä¸Šä¼ æ­£å¸¸
- [ ] æ‰€æœ‰åŠŸèƒ½å¯ç”¨

---

## ğŸ‡¨ğŸ‡³ æµ‹è¯•å›½å†…è®¿é—®é€Ÿåº¦

ä½¿ç”¨ä»¥ä¸‹å·¥å…·æµ‹è¯•å›½å†…è®¿é—®é€Ÿåº¦ï¼š

1. **å…¨å›½è®¿é—®é€Ÿåº¦æµ‹è¯•**
   - è®¿é—®ï¼šhttps://www.17ce.com
   - è¾“å…¥ä½ çš„ URL
   - ç‚¹å‡»"æµ‹è¯•"
   - æŸ¥çœ‹å…¨å›½å„åœ°çš„è®¿é—®é€Ÿåº¦

2. **Ping æµ‹è¯•**
   - è®¿é—®ï¼šhttps://ping.chinaz.com
   - è¾“å…¥ä½ çš„ URL
   - æŸ¥çœ‹å»¶è¿Ÿæƒ…å†µ

---

## ğŸ”„ å¦‚ä½•æ›´æ–°åº”ç”¨

ä»¥åå¦‚æœä¿®æ”¹äº†ä»£ç ï¼Œåªéœ€è¦ï¼š

```powershell
# 1. æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add .

# 2. æäº¤ä¿®æ”¹
git commit -m "æè¿°ä½ çš„ä¿®æ”¹å†…å®¹"

# 3. æ¨é€åˆ° GitHub
git push
```

**Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²ï¼**

---

## ğŸ“Š æŸ¥çœ‹éƒ¨ç½²å†å²

1. ç™»å½• Cloudflare Dashboard
2. è¿›å…¥ä½ çš„ Pages é¡¹ç›®
3. ç‚¹å‡» **"Deployments"** æ ‡ç­¾
4. æŸ¥çœ‹æ‰€æœ‰éƒ¨ç½²è®°å½•å’Œæ—¥å¿—

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A**: 
1. ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½²è®°å½•
2. æŸ¥çœ‹æ„å»ºæ—¥å¿—
3. å¸¸è§åŸå› ï¼š
   - ç¯å¢ƒå˜é‡æœªé…ç½®
   - ä¾èµ–å®‰è£…å¤±è´¥
   - æ„å»ºå‘½ä»¤é”™è¯¯

### Q: é¡µé¢æ˜¾ç¤º 404

**A**: 
1. æ£€æŸ¥ Build output directory æ˜¯å¦ä¸º `dist`
2. ç¡®è®¤æœ¬åœ° `npm run build` èƒ½æˆåŠŸ
3. é‡æ–°éƒ¨ç½²

### Q: API è°ƒç”¨å¤±è´¥

**A**: 
1. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®æ·»åŠ 
2. ç¡®è®¤å˜é‡åä»¥ `VITE_` å¼€å¤´
3. é‡æ–°éƒ¨ç½²ï¼ˆä¿®æ”¹ç¯å¢ƒå˜é‡åéœ€è¦é‡æ–°éƒ¨ç½²ï¼‰

### Q: ç™»å½•åŠŸèƒ½ä¸å¯ç”¨

**A**: 
1. æ£€æŸ¥ Supabase é…ç½®
2. ç¡®è®¤ Site URL å’Œ Redirect URLs å·²æ·»åŠ 
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ­å–œï¼ä½ çš„åº”ç”¨ç°åœ¨å·²ç»éƒ¨ç½²åˆ°å…¬ç½‘ï¼Œå¯ä»¥ï¼š

âœ… åˆ†äº«é“¾æ¥ç»™æœ‹å‹ä½¿ç”¨
âœ… åœ¨æ‰‹æœºä¸Šè®¿é—®
âœ… éšæ—¶æ›´æ–°ä»£ç ï¼ˆæ¨é€å³éƒ¨ç½²ï¼‰

---

## ğŸ“± ä¸‹ä¸€æ­¥ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

### 1. ç»‘å®šè‡ªå®šä¹‰åŸŸå

å¦‚æœä½ æœ‰è‡ªå·±çš„åŸŸåï¼š
1. åœ¨ Cloudflare Pages é¡¹ç›®è®¾ç½®ä¸­ç‚¹å‡» **"Custom domains"**
2. ç‚¹å‡» **"Set up a custom domain"**
3. è¾“å…¥ä½ çš„åŸŸå
4. æŒ‰ç…§æç¤ºé…ç½® DNS è®°å½•

### 2. é…ç½® PWA

åº”ç”¨å·²ç»åŒ…å«åŸºç¡€ PWA é…ç½®ï¼Œç”¨æˆ·å¯ä»¥ï¼š
- åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­ç‚¹å‡» "æ·»åŠ åˆ°ä¸»å±å¹•"
- åƒåŸç”Ÿ App ä¸€æ ·ä½¿ç”¨

### 3. æ·»åŠ åˆ†æå·¥å…·

å¯ä»¥æ·»åŠ ï¼š
- ç™¾åº¦ç»Ÿè®¡ï¼ˆå›½å†…ç”¨æˆ·ï¼‰
- Google Analyticsï¼ˆå›½é™…ç”¨æˆ·ï¼‰
- Cloudflare Web Analyticsï¼ˆè‡ªå¸¦ï¼Œå…è´¹ï¼‰

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ Cloudflare Pages æ–‡æ¡£ï¼šhttps://developers.cloudflare.com/pages
2. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

---

**ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€**

**ä½ çš„åº”ç”¨åœ°å€**ï¼š`https://homework-ai-xxx.pages.dev`ï¼ˆéƒ¨ç½²åæ›¿æ¢ï¼‰
